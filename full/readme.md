
# full

This is a final image that can be launched for a completely isolated local instance of rathena.  _Due to the nature of running multiple local copies it will expect all traffic to come through `127.0.0.1`._  However, we can adjust the external docker ports to allow for multiple running containers on the same host.


## dependencies

This image depends on a local copy of the `rathena-db:latest` base image generated by [db](../db/).


## configuration

_By default the `Dockerfile` exposes ports 6900, 5121, and 6121 for all three rAthena servers._

If you wish to add global configuration prior to execution you can add files to `add/` using the same project-relative paths (_eg. `src/`, `conf/import/`, `npc/`, and `db/`_).


## execution

To build this instance:

	docker build -t "rathena-full:latest" .

To launch a copy:

	id=$(docker create -ti rathena-full) docker start $id

_This sets a temporary `id` environment variable, then passes it to the start command which will launch your container._

To override port maps on running containers you can run the following:

	TODO


## notes

Currently the configuration files are included with "sane defaults" that depend on the defaults in `rathena-db:latest` for mysql and server credentials.  In the future these configuration files will be templated with parameters such that we can load the settings from the `Dockerfile` using the same format as the db image.
